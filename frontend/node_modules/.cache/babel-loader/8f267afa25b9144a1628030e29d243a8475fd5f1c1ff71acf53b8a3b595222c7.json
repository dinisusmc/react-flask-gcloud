{"ast":null,"code":"import React from\"react\";import Article from\"../components/Article\";import TodoList from\"../components/ToDoList\";import axios from'axios';import{useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Home(_ref){let{users}=_ref;function addTask(e){let id=document.querySelector('select').value;let inputs=document.querySelectorAll('input');let values=[inputs[0].value,inputs[1].value];if(values[0]!==\"\"){let data={'id':id,whatToDo:values[0],dueDate:values[1]};axios.post(window.host_addr+\"/api/add\",data);inputs.forEach(inp=>{inp.value=\"\";});setUpdate(true);}}function getTasks(){axios.get(window.host_addr+\"/api/items\",{mode:'no-cors',headers:{'Access-Control-Allow-Origin':'*','Content-Type':'application/json'}}).then(data=>setTasks(data.data));}const[tasks,setTasks]=useState([]);const[update,setUpdate]=useState(false);useEffect(()=>{getTasks();if(update){setUpdate(false);}},[update]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Article,{art:{head:\"What to do today...\",body:\"Manage your tasks below\"},button:{exists:false,text:\"\",href:\"/\"},style:{marginTop:\"10%\"}}),/*#__PURE__*/_jsx(TodoList,{setupdate:setUpdate,tasks:tasks,style:{paddingLeft:\"10%\",paddingRight:\"10%\",marginTop:\"5%\"}}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'5%'},children:/*#__PURE__*/_jsxs(\"div\",{style:{paddingLeft:'10%',paddingRight:'10%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"space-y-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"border-b border-gray-900/10 pb-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-base font-semibold leading-7 text-gray-900\",children:\"Add A User\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6 inline\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sm:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"what_to_do\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"What To Do\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"input\",{id:\"what_to_do\",name:\"what_to_do\",type:\"text\",required:true,className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sm:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"due_date\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"Due Date\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"input\",{id:\"due_date\",name:\"due_date\",type:\"date\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sm:col-span-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"country\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"User\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"select\",{id:\"user\",name:\"user\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xs sm:text-sm sm:leading-6\",children:users.map(user=>{return/*#__PURE__*/_jsxs(\"option\",{value:user.uid,children:[user.first_name,\" \",user.last_name]},user.uid);})})})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 flex items-center justify-end gap-x-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:addTask,className:\"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\",children:\"Save\"})})]})})]});}","map":{"version":3,"names":["React","Article","TodoList","axios","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","_ref","users","addTask","e","id","document","querySelector","value","inputs","querySelectorAll","values","data","whatToDo","dueDate","post","window","host_addr","forEach","inp","setUpdate","getTasks","get","mode","headers","then","setTasks","tasks","update","children","art","head","body","button","exists","text","href","style","marginTop","setupdate","paddingLeft","paddingRight","className","htmlFor","name","type","required","map","user","uid","first_name","last_name","onClick"],"sources":["/Users/dinis/school/cloud_computing/cc_project/frontend/src/pages/Home.jsx"],"sourcesContent":["import React from \"react\";\nimport Article from \"../components/Article\";\nimport TodoList from \"../components/ToDoList\";\nimport axios from 'axios';\nimport { useState, useEffect } from \"react\";\n\n\nexport default function Home({users}) {\n\nfunction addTask(e){\n  \n  let id = document.querySelector('select').value\n  let inputs = document.querySelectorAll('input')\n  let values = [inputs[0].value, inputs[1].value]\n  if (values[0] !== \"\"){\n    let data = {'id':id, whatToDo:values[0], dueDate:values[1]}\n    \n    axios.post(window.host_addr+\"/api/add\", data)\n\n    inputs.forEach(inp=>{inp.value=\"\"})\n    setUpdate(true)}\n}\n\n\nfunction getTasks() {\n\n    axios.get(window.host_addr+\"/api/items\", {\n      mode: 'no-cors',\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json',}})\n    .then(data=>setTasks(data.data))\n  }\n\n    const [tasks, setTasks] = useState([]);\n    const [update, setUpdate] = useState(false);\n\n    useEffect(()=>{\n        getTasks()\n        if (update){\n          setUpdate(false)\n        }\n    }, [update])\n\n  return (\n      <>\n        {/* Hero section */}\n        <Article art={{\n                    head:\"What to do today...\", \n                    body:`Manage your tasks below`}} \n                 button={{\n                    exists:false, \n                    text:\"\", \n                    href:\"/\"}} \n                style={{ marginTop:\"10%\", }}\n        />\n\n        <TodoList setupdate={setUpdate} tasks={tasks} style={{ paddingLeft:\"10%\", paddingRight:\"10%\", marginTop:\"5%\", }}/>\n\n        <div style={{marginTop:'5%'}}>\n        <div style={{paddingLeft:'10%', paddingRight:'10%'}}> \n        <div className=\"space-y-12\">\n \n            <div className=\"border-b border-gray-900/10 pb-12\">\n            <h2 className=\"text-base font-semibold leading-7 text-gray-900\">Add A User</h2>\n\n            <div className=\"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6 inline\">\n                \n                <div className=\"sm:col-span-2\">\n                <label htmlFor=\"what_to_do\" className=\"block text-sm font-medium leading-6 text-gray-900\">\n                    What To Do\n                </label>\n                <div className=\"mt-2\">\n                    <input\n                    id=\"what_to_do\"\n                    name=\"what_to_do\"\n                    type=\"text\"\n                    required\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n                    />\n                </div>\n                </div>\n\n                <div className=\"sm:col-span-2\">\n                <label htmlFor=\"due_date\" className=\"block text-sm font-medium leading-6 text-gray-900\">\n                    Due Date\n                </label>\n                <div className=\"mt-2\">\n                    <input\n                    id=\"due_date\"\n                    name=\"due_date\"\n                    type=\"date\"\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n                    />\n                </div>\n                </div>\n\n                <div className=\"sm:col-span-3\">\n                <label htmlFor=\"country\" className=\"block text-sm font-medium leading-6 text-gray-900\">\n                  User\n                </label>\n                <div className=\"mt-2\">\n                  <select\n                    id=\"user\"\n                    name=\"user\"\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xs sm:text-sm sm:leading-6\"\n                  >\n                    {users.map((user)=>{\n                        return(<option key={user.uid} value={user.uid}>{user.first_name} {user.last_name}</option>)\n                    })}\n\n                  </select>\n                  </div>\n                  </div>\n\n\n            </div>\n            </div>\n            </div>\n\n\n        <div className=\"mt-6 flex items-center justify-end gap-x-6\">\n\n            <button\n            onClick={addTask}\n            className=\"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\n            >\n            Save\n            </button>\n        </div>\n        </div>\n        </div>\n      </>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}